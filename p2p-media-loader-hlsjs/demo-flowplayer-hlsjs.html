<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">

    <script src="p2p-media-loader-core.js"></script>
    <script src="p2p-media-loader-hlsjs.js"></script>

    <link rel="stylesheet" href="//releases.flowplayer.org/7.1.0/skin/skin.css">
    <script src="//releases.flowplayer.org/7.1.0/flowplayer.min.js"></script>
    <script src="//releases.flowplayer.org/hlsjs/flowplayer.hlsjs.min.js"></script>

    <style>
        #video {
            width: 720px;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }
    </style>

</head>
<body>

    <div id="video" class="fp-slim"></div>

    <script>

        var player = flowplayer("#video", {
            volume: 0.01,
            clip: {
                sources: [{
                    src: "https://nasa-i.akamaihd.net/hls/live/253565/NASA-NTV1-Public/master.m3u8",
                    type: "application/x-mpegurl",
                    live: true
                }]
            },
            hlsjs: {
                liveSyncDurationCount: 7, // To have at least 7 segments in queue
                loader: p2pml.hlsjs.createLoaderClass()
            }
        });

        p2pml.hlsjs.initFlowplayerHlsJsPlayer(player);

        player.on("ready", function () {
            player.play();
        });

    </script>

</body>
</html>
