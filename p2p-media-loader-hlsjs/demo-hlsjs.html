<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">

    <script src="p2p-media-loader-core.js"></script>
    <script src="p2p-media-loader-hlsjs.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>

    <style>
        #video {
            width: 720px;
            margin-left: auto;
            margin-right: auto;
            display: block;
        }
    </style>

</head>
<body>

    <video id="video" controls></video>

    <script>

        if (Hls.isSupported()) {
            var hls = new Hls();
            p2pml.hlsjs.initHlsJsPlayer(hls);

            /*//Alternative initialization
            var p2pmlLoader = new p2pml.HybridLoader();
            var chunkManager = new p2pml.hlsjs.ChunkManager(p2pmlLoader);
            p2pml.hlsjs.initPlayer(hls, {"chunkManager": chunkManager});*/

            //hls.loadSource("https://wowza.peer5.com/live/smil:ski.smil/playlist.m3u8"); // live, 20 chunks ~5sec each
            //hls.loadSource("http://wms.shared.streamshow.it/carinatv/carinatv/playlist.m3u8"); // live, 3 chunks ~10 sec each
            //hls.loadSource("https://video-dev.github.io/streams/x36xhzz/x36xhzz.m3u8"); // VOD, 64 chunks
            //hls.loadSource("https://wowza-cdn.streamroot.io/vodOriginSite/tears_of_steel720p.mp4/playlist.m3u8");
            //hls.loadSource("http://cdn3.viblast.com/streams/hls/airshow/playlist.m3u8");
            hls.loadSource("http://zoomweblive-lh.akamaihd.net/i/Zoom-TIL-WAP/Zoomweb_1@348071/index_600_av-p.m3u8"); // stream, 178 chunks ~10 sec each
            //hls.nextLevel = 0;

            var video = document.getElementById("video");
            hls.attachMedia(video);
            hls.on(Hls.Events.MANIFEST_PARSED, function() {
                video.play();
                video.volume = 0.01; // 1%
            });
        }

    </script>

</body>
</html>
